# å¯åŠ¨ç½‘é¡µæœåŠ¡ - å¿«é€ŸæŒ‡å—

## ğŸš€ ä¸‰æ­¥å¯åŠ¨

### ç¬¬1æ­¥ï¼šç¡®ä¿æ•°æ®å·²åŒæ­¥ï¼ˆé¦–æ¬¡ä½¿ç”¨ï¼‰

#### ä¸‹è½½1å°æ—¶æ•°æ®ï¼ˆåŸºç¡€åŠŸèƒ½ï¼‰

```bash
# ä¸‹è½½1å°æ—¶å†å²æ•°æ®ï¼ˆé»˜è®¤ï¼‰
python update_market_data.py --initial-sync
```

è¿™ä¼šä»OKXè·å–å†å²æ•°æ®å­˜å‚¨åˆ°æ•°æ®åº“ï¼Œç¡®ä¿æŠ€æœ¯åˆ†ææœ‰æ•°æ®å¯ç”¨ã€‚

#### ä¸‹è½½15åˆ†é’Ÿæ•°æ®ï¼ˆå›æµ‹ç³»ç»Ÿéœ€è¦ï¼‰

**é‡è¦**ï¼šå¦‚æœä½¿ç”¨å›æµ‹ç³»ç»Ÿï¼Œå¿…é¡»ä¸‹è½½15åˆ†é’Ÿæ•°æ®ï¼

```bash
# ä¸‹è½½15åˆ†é’Ÿå†å²æ•°æ®ï¼ˆå›æµ‹ç³»ç»Ÿå¿…éœ€ï¼‰
python update_market_data.py --initial-sync --timeframe 15m --days 365

# æŸ¥çœ‹æ•°æ®ç»Ÿè®¡ï¼Œç¡®è®¤15mæ•°æ®å·²ä¸‹è½½
python update_market_data.py --stats
```

**æ³¨æ„**ï¼š
- 15mæ•°æ®é‡è¾ƒå¤§ï¼š365å¤©çº¦35,040æ ¹Kçº¿
- ä¸‹è½½æ—¶é—´ï¼šæ ¹æ®ç½‘ç»œæƒ…å†µï¼Œå¯èƒ½éœ€è¦å‡ åˆ†é’Ÿåˆ°åå‡ åˆ†é’Ÿ
- å›æµ‹ç³»ç»Ÿä½¿ç”¨15mä½œä¸ºåŸºå‡†å‘¨æœŸï¼Œå¿…é¡»ä¸‹è½½15mæ•°æ®

### ç¬¬2æ­¥ï¼šå¯åŠ¨FastAPIæœåŠ¡å™¨

```bash
uvicorn fastapi_app:app --reload
```

**è¾“å‡ºç¤ºä¾‹ï¼š**
```
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process
INFO:     Started server process
INFO:     Waiting for application startup.
INFO:     Application startup complete.
```

### ç¬¬3æ­¥ï¼šæ‰“å¼€æµè§ˆå™¨

è®¿é—®ï¼š**http://localhost:8000**

---

## ğŸ“± ç½‘é¡µç•Œé¢ä½¿ç”¨

### ä¸»è¦åŠŸèƒ½åŒºåŸŸ

1. **Account Overview** - è´¦æˆ·æ¦‚è§ˆ
   - æ˜¾ç¤ºè´¦æˆ·èµ„é‡‘å’ŒæŒä»“ä¿¡æ¯
   - ç‚¹å‡»"Refresh"åˆ·æ–°

2. **Market Watch** - å¸‚åœºè§‚å¯Ÿ
   - æ˜¾ç¤ºä»·æ ¼å›¾è¡¨å’ŒæŠ€æœ¯æŒ‡æ ‡
   - å‹¾é€‰"Live via OKX"è·å–å®æ—¶æ•°æ®

3. **Decision Runner** â­ - å†³ç­–è¿è¡Œå™¨ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰
   - é…ç½®é€‰é¡¹ï¼š
     - Strategyï¼ˆç­–ç•¥ï¼‰ï¼šConservative / Balanced / Aggressive
     - Timeframeï¼ˆæ—¶é—´æ¡†æ¶ï¼‰ï¼š1h / 4h / 1dç­‰
     - Offlineï¼šä½¿ç”¨ç¼“å­˜å†³ç­–
     - Refresh market before runï¼šè¿è¡Œå‰åˆ·æ–°å¸‚åœºæ•°æ®
     - Save output artifactsï¼šä¿å­˜è¾“å‡ºæ–‡ä»¶
   
   - ç‚¹å‡»"Run Decision"è¿è¡ŒåŒ…å«æŠ€æœ¯åˆ†æçš„å†³ç­–
   - æŸ¥çœ‹ç»“æœï¼š
     - å†³ç­–åŠ¨ä½œï¼ˆOPEN_LONG/OPEN_SHORT/CLOSE_POSITION/HOLDï¼‰
     - é£é™©æ£€æŸ¥ç»“æœ
     - å®Œæ•´promptï¼ˆåŒ…å«æŠ€æœ¯åˆ†ææŠ¥å‘Šï¼‰
     - LLMåŸå§‹å“åº”

4. **Recent History** - å†å²è®°å½•
   - æŸ¥çœ‹æœ€è¿‘çš„å†³ç­–å†å²

---

## ğŸ¯ è¿è¡ŒåŒ…å«æŠ€æœ¯åˆ†æçš„å†³ç­–

### æ­¥éª¤ï¼š

1. **åœ¨"Decision Runner"åŒºåŸŸé…ç½®**ï¼š
   - é€‰æ‹©Strategyï¼ˆå¦‚ï¼šBalancedï¼‰
   - é€‰æ‹©Timeframeï¼ˆå¦‚ï¼š1hï¼‰
   - ï¼ˆå¯é€‰ï¼‰å‹¾é€‰"Refresh market before run"

2. **ç‚¹å‡»"Run Decision"æŒ‰é’®**

3. **æŸ¥çœ‹ç»“æœ**ï¼š
   - åœ¨"Latest Result"åŒºåŸŸæŸ¥çœ‹å†³ç­–ç»“æœ
   - å±•å¼€"Prompt Sent to LLM"å¯ä»¥çœ‹åˆ°å®Œæ•´çš„æŠ€æœ¯åˆ†ææŠ¥å‘Š
   - å¦‚æœçœ‹åˆ°"âœ“ Technical analysis included in prompt"è¡¨ç¤ºæŠ€æœ¯åˆ†æå·²æˆåŠŸé›†æˆ

---

## ğŸ”§ å¸¸è§é—®é¢˜

### Q1: é¡µé¢æ˜¾ç¤º"æ— æ³•è®¿é—®æ­¤ç½‘ç«™"

**è§£å†³**ï¼š
- ç¡®è®¤æœåŠ¡å™¨å·²å¯åŠ¨ï¼ˆæŸ¥çœ‹ç»ˆç«¯è¾“å‡ºï¼‰
- æ£€æŸ¥æ˜¯å¦ä½¿ç”¨äº†æ­£ç¡®çš„URLï¼šhttp://localhost:8000 æˆ– http://127.0.0.1:8000
- ç¡®è®¤ç«¯å£8000æœªè¢«å ç”¨

### Q2: å†³ç­–è¿è¡Œå¤±è´¥ï¼Œæç¤ºæ•°æ®åº“æ— æ•°æ®

**è§£å†³**ï¼š
```bash
# æ‰§è¡Œåˆå§‹åŒæ­¥ï¼ˆ1hæ•°æ®ï¼‰
python update_market_data.py --initial-sync --days 365

# å¦‚æœä½¿ç”¨å›æµ‹ç³»ç»Ÿï¼Œéœ€è¦ä¸‹è½½15mæ•°æ®
python update_market_data.py --initial-sync --timeframe 15m --days 365
```

### Q3: æŠ€æœ¯åˆ†ææœªåŒ…å«åœ¨promptä¸­

**è§£å†³**ï¼š
- æ£€æŸ¥messagesä¸­æ˜¯å¦æœ‰"Technical analysis generated"æ¶ˆæ¯
- å¦‚æœæœ‰"Technical analysis generation failed"ï¼Œæ£€æŸ¥æ•°æ®åº“æ˜¯å¦æœ‰æ•°æ®
- ç¡®ä¿æ—¶é—´æ¡†æ¶ä¸æ•°æ®åº“ä¸­çš„æ—¶é—´æ¡†æ¶ä¸€è‡´

### Q4: LLMè°ƒç”¨å¤±è´¥

**è§£å†³**ï¼š
- æ£€æŸ¥`.env`æ–‡ä»¶ä¸­æ˜¯å¦é…ç½®äº†`DEEPSEEK_API_KEY`
- æˆ–è€…ä½¿ç”¨Offlineæ¨¡å¼ï¼ˆå‹¾é€‰"Offline"é€‰é¡¹ï¼‰æµ‹è¯•æµç¨‹

---

## ğŸ’¡ ä½¿ç”¨æŠ€å·§

### é¦–æ¬¡ä½¿ç”¨

```bash
# 1. åŒæ­¥æ•°æ®ï¼ˆ1hæ•°æ®ï¼ŒåŸºç¡€åŠŸèƒ½ï¼‰
python update_market_data.py --initial-sync

# å¦‚æœä½¿ç”¨å›æµ‹ç³»ç»Ÿï¼Œè¿˜éœ€è¦ä¸‹è½½15mæ•°æ®
python update_market_data.py --initial-sync --timeframe 15m --days 365

# 2. å¯åŠ¨æœåŠ¡å™¨
uvicorn fastapi_app:app --reload

# 3. æµè§ˆå™¨æ‰“å¼€
# http://localhost:8000

# 4. ç‚¹å‡»"Run Decision"æµ‹è¯•
```

### æ—¥å¸¸ä½¿ç”¨

```bash
# åå°è¿è¡Œæ•°æ®æ›´æ–°ï¼ˆæ¯å°æ—¶æ›´æ–°1hæ•°æ®ï¼‰
python update_market_data.py

# å¦‚æœéœ€è¦æ›´æ–°15mæ•°æ®ï¼ˆå›æµ‹ç³»ç»Ÿï¼‰
python update_market_data.py --timeframe 15m

# å¯åŠ¨æœåŠ¡å™¨
uvicorn fastapi_app:app --reload

# ä½¿ç”¨ç½‘é¡µç•Œé¢è¿›è¡Œå†³ç­–
```

### è‡ªåŠ¨è¿è¡Œå†³ç­–

åœ¨ç½‘é¡µä¸­ç‚¹å‡»"Start Auto Run (15 min)"å¯ä»¥æ¯15åˆ†é’Ÿè‡ªåŠ¨è¿è¡Œä¸€æ¬¡å†³ç­–ã€‚

---

## ğŸ“Š æŠ€æœ¯åˆ†æåœ¨ç½‘é¡µä¸­çš„æ˜¾ç¤º

æŠ€æœ¯åˆ†ææŠ¥å‘Šä¼šåŒ…å«åœ¨promptä¸­ï¼Œä½ å¯ä»¥åœ¨ï¼š

1. **å†³ç­–ç»“æœåŒºåŸŸ**ï¼šæŸ¥çœ‹"âœ“ Technical analysis included in prompt"æç¤º

2. **Promptè¯¦æƒ…**ï¼šå±•å¼€"Prompt Sent to LLM"å¯ä»¥çœ‹åˆ°å®Œæ•´çš„æŠ€æœ¯åˆ†ææŠ¥å‘Šï¼ŒåŒ…æ‹¬ï¼š
   - ç»¼åˆå¸‚åœºä¿¡å·
   - è¶‹åŠ¿åˆ†æ
   - æ”¯æ’‘é˜»åŠ›ä½
   - æ³¢åŠ¨ç‡åˆ†æ
   - æŠ€æœ¯æŒ‡æ ‡ä¿¡å·
   - å½¢æ€è¯†åˆ«

3. **Messages**ï¼šåœ¨å†³ç­–ç»“æœçš„æ¶ˆæ¯ä¸­ä¼šæ˜¾ç¤º"Technical analysis generated for BTC (1h)"

---

## ğŸ¨ ç•Œé¢é¢„è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Alpha Arena - Trading Control Center    â”‚
â”‚  [Refresh All] [README]                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Account       â”‚  â”‚ Market        â”‚
â”‚ Overview      â”‚  â”‚ Watch         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Decision      â”‚  â”‚ Recent        â”‚
â”‚ Runner â­    â”‚  â”‚ History       â”‚
â”‚               â”‚  â”‚               â”‚
â”‚ [Run Decision]â”‚  â”‚ å†å²è®°å½•åˆ—è¡¨   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ å®Œæ•´å‘½ä»¤ç¤ºä¾‹

```bash
# ç»ˆç«¯1ï¼šæ•°æ®æ›´æ–°æœåŠ¡ï¼ˆå¯é€‰ï¼Œåå°è¿è¡Œï¼‰
python update_market_data.py

# ç»ˆç«¯2ï¼šå¯åŠ¨FastAPIæœåŠ¡å™¨
cd kaifa_wenjian
uvicorn fastapi_app:app --reload --host 0.0.0.0 --port 8000
```

ç„¶ååœ¨æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:8000

---

**ç°åœ¨ä½ å¯ä»¥é€šè¿‡ç½‘é¡µç•Œé¢æ–¹ä¾¿åœ°ä½¿ç”¨åŒ…å«æŠ€æœ¯åˆ†æçš„å†³ç­–ç³»ç»Ÿäº†ï¼** ğŸ‰



