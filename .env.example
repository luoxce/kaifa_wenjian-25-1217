# Copy to .env and fill in your credentials before running

# LLM (provider selection)
LLM_PROVIDER=deepseek
LLM_API_BASE=
LLM_API_KEY=
LLM_MODEL=

# DeepSeek (OpenAI-compatible, V3 default)
DEEPSEEK_API_KEY=sk-your-deepseek-key
DEEPSEEK_API_BASE=https://api.deepseek.com/v1
DEEPSEEK_MODEL=deepseek-chat

# OpenAI
OPENAI_API_KEY=
OPENAI_API_BASE=https://api.openai.com/v1
OPENAI_MODEL=gpt-4o-mini

# Grok (xAI, OpenAI-compatible)
GROK_API_KEY=
GROK_API_BASE=https://api.x.ai/v1
GROK_MODEL=grok-2-mini

# Gemini (OpenAI-compatible base)
GEMINI_API_KEY=
GEMINI_API_BASE=https://generativelanguage.googleapis.com/v1beta/openai
GEMINI_MODEL=gemini-1.5-flash

# OKX demo trading (perpetual swap)
OKX_API_KEY=your-okx-api-key
OKX_API_SECRET=your-okx-api-secret
OKX_PASSWORD=your-okx-passphrase
OKX_IS_DEMO=true
OKX_DEFAULT_SYMBOL=BTC/USDT:USDT
OKX_DEFAULT_MARKET=swap
OKX_TIMEFRAMES=15m,1h,4h,1d
# OKX order params
# OKX_TD_MODE: margin mode for swap orders.
# - cross: cross margin (shared margin across positions)
# - isolated: isolated margin (margin per position)
OKX_TD_MODE=cross
# OKX_POS_MODE: position mode for swap orders.
# - long_short: hedge mode (separate long/short positions, posSide required)
# - net: net mode (single net position, posSide omitted)
OKX_POS_MODE=long_short
# OKX_WAIT_FILL: poll order status after submit (true/false). Default true.
OKX_WAIT_FILL=true
# OKX_FILL_TIMEOUT_S: max seconds to wait for fill. Default 8.
OKX_FILL_TIMEOUT_S=8
# OKX_FILL_INTERVAL_S: poll interval seconds. Default 1.
OKX_FILL_INTERVAL_S=1
# OKX_SYNC_ACCOUNT: sync balances/positions after order (true/false). Default true.
OKX_SYNC_ACCOUNT=true

# Trading switches
# TRADING_ENABLED: allow live order execution in daemon scripts. Default false.
TRADING_ENABLED=false
# API_WRITE_ENABLED: allow API POST actions (ingest/sync/backtest). Default false.
API_WRITE_ENABLED=false
# Optional proxy overrides (defaults already set in code)
# OKX_HTTP_PROXY=http://127.0.0.1:33210
# OKX_HTTPS_PROXY=http://127.0.0.1:33210
# OKX_ALL_PROXY=socks5://127.0.0.1:33211

# Generic proxy envs (used by requests/urllib3)
HTTP_PROXY=http://127.0.0.1:33210
HTTPS_PROXY=http://127.0.0.1:33210
ALL_PROXY=socks5://127.0.0.1:33211

# Database
DATABASE_URL=sqlite:///data/alpha_arena.db

# Risk limits
RISK_MAX_NOTIONAL=20000
RISK_MAX_LEVERAGE=3
RISK_MIN_CONFIDENCE=0.6

# Regime thresholds (portfolio scoring)
# REGIME_ADX_THRESHOLD: trend strength threshold (ADX). Default 25.0.
# Typical range: 10-40 (lower = more TREND, higher = stricter).
REGIME_ADX_THRESHOLD=25.0
# REGIME_BB_WIDTH_THRESHOLD: Bollinger band width threshold. Default 0.04 (4%).
# Typical range: 0.01-0.08 (lower = more RANGE, higher = stricter).
REGIME_BB_WIDTH_THRESHOLD=0.04

# Portfolio allocation (execution layer)
# PORTFOLIO_GLOBAL_LEVERAGE: leverage used for target notional sizing. Default 1.0.
# Typical range: 0.5-3.0 (align with risk limits).
PORTFOLIO_GLOBAL_LEVERAGE=1.0
# PORTFOLIO_DIFF_THRESHOLD: ignore small diff (USDT). Default 10.
# Typical range: 5-100 depending on equity/fees.
PORTFOLIO_DIFF_THRESHOLD=10.0
# PORTFOLIO_MIN_NOTIONAL: minimum order notional (USDT). Default 10.
# Typical range: 10-200 depending on exchange min order size.
PORTFOLIO_MIN_NOTIONAL=10.0

# Optional local LLM endpoints (Ollama / vLLM)
# OLLAMA_API_BASE=http://localhost:11434/v1
# OLLAMA_MODEL=llama3
# VLLM_API_BASE=http://localhost:8000/v1
# VLLM_MODEL=local-model

# ==================== RL module config ====================
# Enable RL enhancement (default off, safe for existing system).
RL_ENABLED=false

# RL model path
RL_MODEL_PATH=models/rl/best_model/best_model.zip

# RL intervention threshold (RL kicks in when confidence is below this).
RL_CONFIDENCE_THRESHOLD=0.7

# RL training params (optional, used by training script)
RL_TOTAL_TIMESTEPS=500000
RL_N_ENVS=4
RL_LEARNING_RATE=0.0003
RL_MAX_POSITION=3.0
RL_LOOKBACK_WINDOW=100

# Decision mode: hybrid, rl_only, llm_only, safe_mode
DECISION_MODE=hybrid

# LLM analysis interval (hours) for hybrid mode
LLM_ANALYSIS_INTERVAL=24

# Enable LLM intervention checks
LLM_INTERVENTION_ENABLED=true
